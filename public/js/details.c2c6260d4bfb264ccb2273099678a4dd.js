$(document).ready(function(){function o(){i={lat:object_lat,lng:object_long},a=new google.maps.Map(document.getElementById("object_map"),{zoom:17,center:i,scrollwheel:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}});var o={url:"/img/map_pin.svg",scaledSize:new google.maps.Size(70,70)};marker=new google.maps.Marker({position:i,map:a,icon:o,optimized:!1}),google.maps.event.addListener(a,"zoom_changed",function(){t(a.getZoom())})}function e(o,e,t,n){n=n||{};var i=new google.maps.Marker({map:a,position:o.geometry.location,icon:e,visible:!0,type:t,customData:n,optimized:!1});if(s.push(i),n&&n.htmlContent){var l=new google.maps.InfoWindow({content:n.htmlContent});google.maps.event.addListener(i,"click",function(){l.open(a,i)})}}function t(o){var e;e=o>=15?"icon":"dot",$.each(s,function(o,t){t&&t.customData&&t.setIcon("icon"==e?t.customData.icon:t.customData.dot_icon)})}function n(o){$.each(s,function(e,t){t&&t.type==o&&(t.setMap(null),delete s[e])})}$("button.fullscreen_btn").on("click",function(){var o=$(".details_gallery").slick("slickCurrentSlide"),e=$('.details_gallery .slick-slide[data-slick-index="'+o+'"] img').attr("src");$.fancybox.open([{src:e}])}),$(".details_gallery").slick({slidesToShow:1,slidesToScroll:1,fade:!0,speed:200,asNavFor:".details_gallery_thumbnails",prevArrow:'<button type="button" class="slick-prev"><i class="icn icon-arrow_big_left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icn icon-arrow_big_right"></i></button>'}),$(".details_gallery_thumbnails").slick({slidesToShow:5,slidesToScroll:1,speed:200,asNavFor:".details_gallery",dots:!1,arrows:!1,focusOnSelect:!0}),$(".details_gallery").on("afterChange",function(o,e,t,n){0==t?$(".gallery_view .object_title").fadeIn("fast"):$(".gallery_view .object_title").fadeOut("fast")}),setTimeout(function(){o()},100),$(".gallery_view .panorama_link_container button").on("click",function(){$(".gallery_container").addClass("display_panorama")}),$(".gallery_container button.close_panorama").on("click",function(){$(".gallery_container").removeClass("display_panorama")}),dpe_ges_pointer(dpe_pointer,ges_pointer);var a,i,l,s=[];$(document).on("click",'.map_sidebar .checkbox_container input[type="checkbox"]',function(){var o=$(this).parents(".checkbox_container"),t=$(this).val();if($(this).is(":checked")){var s="/img/map/sidebar_icons/"+t+".svg",c=s.replace("sidebar_icons","sidebar_icons/small_dots");o.addClass("loading"),setTimeout(function(){var n={location:i,radius:"1000",types:[t]};l=new google.maps.places.PlacesService(a),l.nearbySearch(n,function(o,n){if(n==google.maps.places.PlacesServiceStatus.OK)for(var i=0;i<o.length;i++){o[i].html_attributions="";var l=a.getZoom()>=15?s:c,r="<div class='place-content'><b>"+o[i].name+"</b><br><span>"+o[i].vicinity+"</span></div>";e(o[i],l,t,{icon:s,dot_icon:c,htmlContent:r})}}),o.removeClass("loading")},100)}else n(t)})});