$(document).ready(function(){$("button.fullscreen_btn").on("click",function(){var j=$(".details_gallery").slick("slickCurrentSlide");var i=$('.details_gallery .slick-slide[data-slick-index="'+j+'"] img').attr("src");$.fancybox.open([{src:i}])});$(".details_gallery").slick({slidesToShow:1,slidesToScroll:1,fade:true,speed:200,asNavFor:".details_gallery_thumbnails",prevArrow:'<button type="button" class="slick-prev"><i class="icn icon-arrow_big_left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icn icon-arrow_big_right"></i></button>'});$(".details_gallery_thumbnails").slick({slidesToShow:5,slidesToScroll:1,speed:200,asNavFor:".details_gallery",dots:false,arrows:false,focusOnSelect:true});setTimeout(function(){f()},100);$(".gallery_view .panorama_link_container button").on("click",function(){$(".gallery_container").addClass("display_panorama")});$(".gallery_view button.close_panorama").on("click",function(){$(".gallery_container").removeClass("display_panorama")});var g;var c;var b;var a=[];function f(){c={lat:object_lat,lng:object_long};g=new google.maps.Map(document.getElementById("object_map"),{zoom:17,center:c,scrollwheel:false,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}});var j=new google.maps.MarkerImage("/img/map_pin.svg");var i=new google.maps.Marker({position:c,map:g,icon:j});google.maps.event.addListener(g,"zoom_changed",function(){e(g.getZoom())})}$(document).on("click",'.map_sidebar .checkbox_container input[type="checkbox"]',function(){var l=$(this).parents(".checkbox_container"),k=$(this).val();if($(this).is(":checked")){var j="/img/map/sidebar_icons/"+k+".svg",i=j.replace("sidebar_icons","sidebar_icons/small_dots");l.addClass("loading");setTimeout(function(){var m={location:c,radius:"1000",types:[k]};b=new google.maps.places.PlacesService(g);b.nearbySearch(m,function(p,n){if(n==google.maps.places.PlacesServiceStatus.OK){for(var o=0;o<p.length;o++){p[o].html_attributions="";var q=(g.getZoom()>=15)?j:i,r="<div class='place-content'><b>"+p[o].name+"</b><br><span>"+p[o].vicinity+"</span></div>";h(p[o],q,k,{icon:j,dot_icon:i,htmlContent:r})}}});l.removeClass("loading")},100)}else{d(k)}});function h(j,l,k,n){n=n?n:{};var i=new google.maps.Marker({map:g,position:j.geometry.location,icon:l,visible:true,type:k,customData:n,optimized:false});a.push(i);if(n&&n.htmlContent){var m=new google.maps.InfoWindow({content:n.htmlContent});google.maps.event.addListener(i,"click",function(){m.open(g,i)})}}function e(j){var i;if(j>=15){i="icon"}else{i="dot"}$.each(a,function(k,l){if(l&&l.customData){l.setIcon(i=="icon"?l.customData.icon:l.customData.dot_icon)}})}function d(i){$.each(a,function(j,k){if(k&&k.type==i){k.setMap(null);delete a[j]}})}});